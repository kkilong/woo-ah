<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>키워드 입력</title>
</head>
<body>

<h2 id="title"></h2>

작성자:
<select id="author">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
</select>

<br><br>

키워드:
<input id="keyword">

<br><br>

<button onclick="save()">제출</button>

<p id="msg"></p>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "trpg-keyword-2026.firebaseapp.com",
  projectId: "trpg-keyword-2026",
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// 대상 참가자
const params = new URLSearchParams(location.search);
const target = params.get("target");

document.getElementById("title").innerText =
  "참가자 " + target + "에게 키워드 입력";

async function save() {
  const author = document.getElementById("author").value;
  const keyword = document.getElementById("keyword").value.trim();
  const msg = document.getElementById("msg");

  if (!keyword) {
    msg.innerText = "키워드를 입력하세요";
    return;
  }

  await db.collection("keywords").add({
    author: author,
    target: target,
    keyword: keyword,
    createdAt: new Date()
  });

  msg.innerText = "저장되었습니다";
}
</script>

</body>
</html>
